# 股票预测算法规则说明

## 📊 技术指标计算

### 移动平均线 (MA)
- **短期均线**: 10日移动平均线
- **长期均线**: 30日移动平均线  
- **信号**: 短均线上穿长均线为看涨信号

### 相对强弱指数 (RSI)
- **周期**: 14日
- **超买**: RSI > 70
- **超卖**: RSI < 30
- **中性**: RSI ≈ 50

### MACD 指标
- **快线**: 12日EMA - 26日EMA
- **慢线**: 9日EMA(MACD)
- **信号**: MACD上穿信号线为买入信号

## 🎯 综合评分规则

### 信号评分 (signal_score)
基础分数从0开始，累加以下分数：

1. **均线交叉** (±20分)
   - 金叉（短均线上穿长均线）: +20分
   - 死叉（短均线下穿长均线）: -20分

2. **RSI评分** (±15分)
   - 公式: `min(max(50 - |RSI - 50|, -15), 15)`
   - RSI越接近50分数越高

3. **MACD评分** (+10分)
   - MACD上穿信号线: +10分

### 操作建议
```
signal_score >= 15  → BUY (买入)
signal_score <= -15 → TRIM (减仓)  
其他               → HOLD (持有)
```

## 🔮 价格预测模型

### 模型优先级

#### 1. Ridge回归模型 (首选)
- **要求**: ≥80条历史数据
- **特征**: 1日收益率、5/10日均线、12/26日EMA、成交量Z-score
- **置信区间**: 80% (预测值 ± 1.28σ)

#### 2. SARIMAX时间序列 (备选)
- **要求**: ≥60条历史数据
- **模型**: ARIMA(1,1,1)
- **置信区间**: 80%

#### 3. 线性趋势 (保底)
- **要求**: ≥5条历史数据
- **方法**: 最近5日趋势外推
- **置信区间**: ±5%

## 📈 预测输出格式

```json
{
    "symbol": "002594.SZ",
    "method": "feature_regression",
    "confidence": 0.8,
    "predictions": [
        {
            "day": 1,
            "predicted_price": 105.63,
            "lower_bound": 103.60,
            "upper_bound": 107.65
        }
        // ... 未来5天
    ]
}
```

## ⚠️ 重要声明

- **仅供学习研究使用**
- **不构成投资建议**
- **股市有风险，投资需谨慎**
- **预测结果仅供参考**
